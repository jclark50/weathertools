% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calcWB.R
\name{calcWB}
\alias{calcWB}
\title{Calculate Wet-Bulb Temperature (strict, attribute-aware)}
\usage{
calcWB(
  airTemp,
  relativeHumidity,
  inputunits = "degF",
  outputunits = "degF",
  method = NULL,
  ignoreattr = FALSE,
  returnWithUnits = TRUE,
  debug = FALSE
)
}
\arguments{
\item{airTemp}{Numeric. Air temperature. Provide \code{attr(airTemp, "unit")}
as \code{"degC"}, \code{"degF"}, or \code{"K"} unless \code{ignoreattr = TRUE}.}

\item{relativeHumidity}{Numeric. Relative humidity; percent (0–100) or
fraction (0–1). Fractions are auto-converted to percent.}

\item{inputunits}{Character. Temperature unit of \code{airTemp}
(\code{"degF"}, \code{"degC"}, or \code{"K"}). Required when \code{ignoreattr = TRUE};
if provided together with an attribute, they must agree.
Default: \code{"degF"}.}

\item{outputunits}{Character. Desired WB output unit (\code{"degF"} or \code{"degC"}).
Default: \code{"degF"}.}

\item{method}{Character or \code{NULL}. Passed through to \code{calcWB_cpp} to select
an algorithmic variant (keep \code{NULL} for the default).}

\item{ignoreattr}{Logical. If \code{FALSE} (default), require a unit attribute
on \code{airTemp} and validate against \code{inputunits} when provided. If \code{TRUE},
skip attribute checks and rely only on \code{inputunits}.}

\item{returnWithUnits}{Logical. If \code{TRUE}, tag the numeric result with
\code{attr(, "unit") = outputunits}. Default: \code{FALSE}.}

\item{debug}{Logical. If \code{TRUE}, print a compact summary of normalized inputs.}
}
\value{
Numeric vector of wet-bulb temperature in \code{outputunits}. If
\code{returnWithUnits = TRUE}, the numeric is tagged with \code{attr(, "unit")}.
}
\description{
Computes wet-bulb temperature (WB) from air temperature and relative humidity,
using a compiled C++ routine (\code{calcWB_cpp}). This version follows your
lightweight unit model:
\itemize{
\item Inputs are plain numerics with an optional \code{attr(x, "unit")}.
\item By default (\code{ignoreattr = FALSE}) a \strong{unit attribute is required} on \code{airTemp}
(and must match \code{inputunits} if you also supply it). Set \code{ignoreattr = TRUE}
to skip attribute checks and rely solely on \code{inputunits}.
\item Accepts temperature units \code{"degC"}, \code{"degF"}, or \code{"K"}. When \code{"K"} is used,
values are converted to \code{"degC"} internally for the C++ call.
}

\code{relativeHumidity} may be given as \strong{percent} (0–100) or \strong{fraction} (0–1).
Fractions (<= 1.5) are auto-scaled to percent.
}
\examples{
\dontrun{
# Strict mode (attribute required):
T <- 90; attr(T, "unit") <- "degF"
calcWB(T, 70)                        # returns degF by default
calcWB(T, 70, outputunits = "degC")  # convert to degC

# Kelvin input:
Tk <- 305.15; attr(Tk, "unit") <- "K"
calcWB(Tk, 0.6, outputunits = "degC")                 # RH as fraction → auto scaled

# Ignore attributes and use explicit units:
calcWB(32, 40, inputunits = "degC", ignoreattr = TRUE)
}
}
