% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calcRH.R
\name{calcRH}
\alias{calcRH}
\title{Compute Relative Humidity from Temperature and Dew Point (or VPD)}
\usage{
calcRH(
  airTemp,
  dewPoint = NULL,
  inputunits = "degC",
  vpd = NULL,
  ignoreattr = FALSE,
  debug = FALSE
)
}
\arguments{
\item{airTemp}{Numeric vector of air temperature. May carry \code{attr(., "unit")}.}

\item{dewPoint}{Numeric vector of dew point temperature (optional if \code{vpd} is supplied).
May carry \code{attr(., "unit")}.}

\item{inputunits}{Character; temperature unit token for \code{airTemp}/\code{dewPoint}.
One of \code{"degC"}, \code{"degF"}, \code{"K"} (also accepts \code{"C"}, \code{"F"}).
Defaults to \code{"degC"}.}

\item{vpd}{Numeric vector of vapor pressure deficit in kPa. If provided, \code{dewPoint} is ignored.}

\item{ignoreattr}{Logical; if \code{TRUE}, relax attribute checks and trust \code{inputunits}.}

\item{debug}{Logical; if \code{TRUE}, emit a brief trace of unit decisions.}
}
\value{
Numeric vector of relative humidity in percent (0â€“100). No unit attribute is attached.
}
\description{
Computes RH (\%) given air temperature and dew point, or alternatively
air temperature and vapor pressure deficit (VPD, kPa). Handles temperature
unit declaration via argument and/or \code{attr(x, "unit")}.
}
\details{
Internally, temperatures are normalized to \code{"degC"} or \code{"degF"} depending on
\code{inputunits}, then passed to a C++ routine. When \code{vpd} is supplied, \code{dewPoint}
is ignored and RH is computed from \code{airTemp} and \code{vpd}.
}
\section{Unit handling}{

\itemize{
\item Recognized temperature tokens: \code{"degC"}, \code{"degF"}, \code{"K"}.
\item \code{inputunits} applies to \code{airTemp} (and \code{dewPoint} if provided).
\item If \code{ignoreattr = FALSE} (default), the function requires unit attributes
on provided temperature vectors and enforces agreement with \code{inputunits}
when specified.
\item If \code{inputunits == "K"}, values are normalized to \code{"degC"} for the core.
}
}

\examples{
# Using dew point
ta <- c(30, 31); dp <- c(20, 21)
attr(ta, "unit") <- "degC"; attr(dp, "unit") <- "degC"
rh <- calcRH(ta, dp, inputunits = "degC")
rh  # percent

# Using VPD (kPa), ignoring attributes and declaring units
taF <- c(86, 88); vpd <- c(1.5, 2.0)
rh2 <- calcRH(taF, vpd = vpd, inputunits = "degF", ignoreattr = TRUE)

# data.table pattern
if (requireNamespace("data.table", quietly = TRUE)) {
  DT <- data.table::data.table(ta = ta, dp = dp)
  attr(DT$ta, "unit") <- "degC"; attr(DT$dp, "unit") <- "degC"
  DT[, rh := calcRH(ta, dewPoint = dp, inputunits = "degC")]
}

}
\seealso{
\code{\link{calcTD}}, \code{\link{unit}}.
}
